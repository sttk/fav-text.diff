{"version":3,"sources":["fav.text.diff.js"],"names":["f","exports","module","define","amd","g","window","global","self","this","fav","text","diff","r","e","n","t","o","i","c","require","u","a","Error","code","p","call","length","1","splitIntoBlocks","matchBlocks","findMostMatchingPath","diffFromMatchingPath","convertLineDiff","text1","text2","opts","blocks1","blocks2","matchings","maxMatchingSize","Math","min","matchingPath","Object","defineProperties","lines","enumerable","value","delimRe","diffs","./lib/diff-from-matching-path","./lib/find-most-matching-path","./lib/lines/convert-line-diff","./lib/match-blocks","./lib/split-into-blocks","2","getEditType","blockCount1","blockCount2","registerDiff","type","st1","ed1","st2","ed2","src","blockIndexesToTextIndexes","dst","trimBothStartDelims","push","start","end","dest","blocks","blockStart","blockEnd","textStart","textEnd","delims","block","registerDelimDiff","index1","index2","block1","block2","prevDiff","trimBothEndDelims","mergeToPrevDiffIfPossible","slice","n1","n2","i1","i2","m","3","findMatchingPath","matches","mustIndex","passedIndexes","mustMatch","mustMatchIndex","matchingSize","followingMatchIndex","L1","j1","undefined","previousMatchIndex","L2","j2","path","size","Array","mostMatching","matching","4","plusStart","index","lineNo","replace","plusEnd","minusPos","5","calcLineNo","setDiff","aDiff","./calc-line-no","6","7","convertWithOpts","normalizeSpaces","ignoreCase","toUpperCase","RegExp","rs","exec","blockLen","splitByDelimiter","splitIntoChars"],"mappings":"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"}